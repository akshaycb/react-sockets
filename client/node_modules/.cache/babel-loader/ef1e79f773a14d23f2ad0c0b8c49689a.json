{"ast":null,"code":"var _jsxFileName = \"D:\\\\academics\\\\company coding projects\\\\SEZZLE Calculator Broadcast\\\\client\\\\calculator\\\\src\\\\Calculator\\\\index.js\";\nimport React from 'react';\nimport io from \"socket.io-client\";\nimport './index.css';\nimport { Display, Button } from './Components';\nimport CalculationList from '../CalculationList';\nconst socket = io(\"http://localhost:4000\");\n\nconst Calculator = () => {\n  const [displayString, setDisplayString] = React.useState('0');\n  const [calculationArray, setCalculationArray] = React.useState([]);\n  const [calculations, setCalculations] = React.useState([]);\n  React.useEffect(() => {\n    socket.on(\"calculations\", calculation => {\n      setCalculations(calculations => {\n        return [calculation, ...calculations].length > 10 ? [calculation, ...calculations].slice(0, 10) : [calculation, ...calculations];\n      });\n    });\n  }, []);\n\n  const postCalculation = calculationString => {\n    socket.emit('send', calculationString);\n  };\n\n  const operation = ({\n    target\n  }) => {\n    const calculationArrayCopy = calculationArray;\n\n    if (calculationArrayCopy.length > 0) {\n      if (!isNaN(calculationArrayCopy[calculationArrayCopy.length - 1])) {\n        calculationArrayCopy.push(`${target.value}`);\n      } else {\n        calculationArrayCopy[calculationArrayCopy.length - 1] = target.value;\n      }\n    } else {\n      if (target.value === '-') {\n        calculationArrayCopy.push(`${target.value}`);\n      }\n    }\n\n    setCalculationArray([...calculationArrayCopy]);\n    setDisplayString(calculationArrayCopy.join(''));\n  };\n\n  const clear = () => {\n    setCalculationArray([]);\n    setDisplayString('0');\n  };\n\n  const number = ({\n    target\n  }) => {\n    const calculationArrayCopy = calculationArray;\n\n    if (!isNaN(calculationArrayCopy[calculationArrayCopy.length - 1])) {\n      calculationArrayCopy[calculationArrayCopy.length - 1] = calculationArrayCopy[calculationArrayCopy.length - 1] + target.value;\n    } else {\n      calculationArrayCopy.push(`${target.value}`);\n    }\n\n    setCalculationArray([...calculationArrayCopy]);\n    setDisplayString(calculationArrayCopy.join(''));\n  };\n\n  const point = ({\n    target\n  }) => {\n    const calculationArrayCopy = calculationArray;\n\n    if (!isNaN(calculationArrayCopy[calculationArrayCopy.length - 1])) {\n      if (!calculationArrayCopy[calculationArrayCopy.length - 1].includes('.')) {\n        calculationArrayCopy[calculationArrayCopy.length - 1] = calculationArrayCopy[calculationArrayCopy.length - 1] + target.value;\n      }\n    } else {\n      calculationArrayCopy.push(`0${target.value}`);\n    }\n\n    setCalculationArray([...calculationArrayCopy]);\n    setDisplayString(calculationArrayCopy.join(''));\n  };\n\n  const equals = () => {\n    try {\n      const calculationArrayCopy = calculationArray;\n      let result = isNaN(eval(calculationArrayCopy.join(''))) ? 0 : eval(calculationArrayCopy.join('')).toFixed(2);\n      setDisplayString(result);\n      setCalculationArray([result]);\n      postCalculation(displayString + '=' + result);\n    } catch (e) {\n      console.log('error: ', e);\n      alert('You broke it!');\n      setCalculationArray([]);\n      setDisplayString('0');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"calculator-layout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Display, {\n    className: \"result\",\n    display: displayString,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"clear\",\n    value: \"clear\",\n    display: \"AC\",\n    className: \"reset\",\n    onClick: clear,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"seven\",\n    value: \"7\",\n    display: \"7\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"eight\",\n    value: \"8\",\n    display: \"8\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"nine\",\n    value: \"9\",\n    display: \"9\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"divide\",\n    value: \"/\",\n    display: \"\\xF7\",\n    className: \"ops\",\n    onClick: operation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"four\",\n    value: \"4\",\n    display: \"4\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"five\",\n    value: \"5\",\n    display: \"5\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"six\",\n    value: \"6\",\n    display: \"6\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"multiply\",\n    value: \"*\",\n    display: \"\\xD7\",\n    className: \"ops\",\n    onClick: operation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"one\",\n    value: \"1\",\n    display: \"1\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"two\",\n    value: \"2\",\n    display: \"2\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"three\",\n    value: \"3\",\n    display: \"3\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"subtract\",\n    value: \"-\",\n    display: \"\\u2212\",\n    className: \"ops\",\n    onClick: operation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    id: \"zero\",\n    value: \"0\",\n    display: \"0\",\n    className: \"num\",\n    onClick: number,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"decimal\",\n    value: \".\",\n    display: \".\",\n    className: \"point\",\n    onClick: point,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"equals\",\n    value: \"=\",\n    display: \"=\",\n    className: \"equals\",\n    onClick: equals,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    id: \"add\",\n    value: \"+\",\n    display: \"+\",\n    className: \"ops\",\n    onClick: operation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  })))), calculations.length > 0 && /*#__PURE__*/React.createElement(CalculationList, {\n    list: calculations,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 41\n    }\n  }));\n};\n\nexport default Calculator;","map":{"version":3,"sources":["D:/academics/company coding projects/SEZZLE Calculator Broadcast/client/calculator/src/Calculator/index.js"],"names":["React","io","Display","Button","CalculationList","socket","Calculator","displayString","setDisplayString","useState","calculationArray","setCalculationArray","calculations","setCalculations","useEffect","on","calculation","length","slice","postCalculation","calculationString","emit","operation","target","calculationArrayCopy","isNaN","push","value","join","clear","number","point","includes","equals","result","eval","toFixed","e","console","log","alert"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport io from \"socket.io-client\";\r\nimport './index.css'\r\nimport {Display, Button} from './Components'\r\nimport CalculationList from '../CalculationList'\r\n\r\nconst socket = io(\"http://localhost:4000\")\r\n\r\nconst Calculator = () => {\r\n    const [displayString, setDisplayString] = React.useState('0')\r\n    const [calculationArray, setCalculationArray] = React.useState([])\r\n    const [calculations, setCalculations] = React.useState([])\r\n\r\n    React.useEffect(()=>{\r\n        socket.on(\"calculations\", calculation => {\r\n            setCalculations(calculations => {\r\n                return [calculation, ...calculations].length > 10 ? [calculation, ...calculations].slice(0,10) : [calculation, ...calculations]\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    const postCalculation = (calculationString) => {\r\n        socket.emit('send', calculationString)\r\n    }\r\n\r\n    const operation = ({target}) => {\r\n        const calculationArrayCopy = calculationArray\r\n        if(calculationArrayCopy.length > 0){\r\n            if(!isNaN(calculationArrayCopy[calculationArrayCopy.length-1])){                \r\n                calculationArrayCopy.push(`${target.value}`)\r\n            } else {\r\n                calculationArrayCopy[calculationArrayCopy.length-1] = target.value\r\n            }\r\n        } else {\r\n            if(target.value === '-'){                \r\n                calculationArrayCopy.push(`${target.value}`)\r\n            }\r\n        }\r\n        setCalculationArray([...calculationArrayCopy])\r\n        setDisplayString(calculationArrayCopy.join(''))\r\n    }\r\n\r\n    const clear = () => {\r\n        setCalculationArray([])\r\n        setDisplayString('0')\r\n    }\r\n\r\n    const number = ({target}) => {\r\n        const calculationArrayCopy = calculationArray\r\n        if(!isNaN(calculationArrayCopy[calculationArrayCopy.length-1])){\r\n            calculationArrayCopy[calculationArrayCopy.length-1] = calculationArrayCopy[calculationArrayCopy.length-1]+target.value\r\n        } else {\r\n            calculationArrayCopy.push(`${target.value}`)\r\n        }\r\n        \r\n        setCalculationArray([...calculationArrayCopy])\r\n        setDisplayString(calculationArrayCopy.join(''))\r\n    }\r\n\r\n    const point = ({target}) => {\r\n        const calculationArrayCopy = calculationArray\r\n        if(!isNaN(calculationArrayCopy[calculationArrayCopy.length-1])){\r\n            if(!calculationArrayCopy[calculationArrayCopy.length-1].includes('.')){\r\n                calculationArrayCopy[calculationArrayCopy.length-1] = calculationArrayCopy[calculationArrayCopy.length-1]+target.value\r\n            }\r\n        } else {\r\n            calculationArrayCopy.push(`0${target.value}`)\r\n        }\r\n        setCalculationArray([...calculationArrayCopy])\r\n        setDisplayString(calculationArrayCopy.join(''))\r\n    }\r\n\r\n    const equals = () => {\r\n        try{\r\n            const calculationArrayCopy = calculationArray\r\n            let result = isNaN(eval(calculationArrayCopy.join(''))) ? 0 : (eval(calculationArrayCopy.join(''))).toFixed(2)\r\n            setDisplayString(result)\r\n            setCalculationArray([result])\r\n            postCalculation(displayString+'='+result)\r\n        } catch(e){\r\n            console.log('error: ', e)\r\n            alert('You broke it!')\r\n            setCalculationArray([])\r\n            setDisplayString('0')\r\n        }\r\n    }\r\n    \r\n    return(\r\n        \r\n        <div>\r\n            <div className=\"calculator-layout\">\r\n                <Display className='result' display={displayString}/>\r\n                <div>\r\n                    <div>\r\n                        <Button id=\"clear\" value=\"clear\" display=\"AC\" className=\"reset\" onClick={clear} />\r\n                    </div>\r\n                    <div>\r\n                        <Button id=\"seven\" value=\"7\" display=\"7\" className=\"num\" onClick={number} />\r\n                        <Button id=\"eight\" value=\"8\" display=\"8\" className=\"num\" onClick={number} />\r\n                        <Button id=\"nine\" value=\"9\" display=\"9\" className=\"num\" onClick={number} />\r\n                        <Button id=\"divide\" value=\"/\" display=\"÷\" className=\"ops\" onClick={operation} />\r\n                    </div>\r\n                    <div>\r\n                        <Button id=\"four\" value=\"4\" display=\"4\" className=\"num\" onClick={number} />\r\n                        <Button id=\"five\" value=\"5\" display=\"5\" className=\"num\" onClick={number} />\r\n                        <Button id=\"six\" value=\"6\" display=\"6\" className=\"num\" onClick={number} />\r\n                        <Button id=\"multiply\" value=\"*\" display=\"×\" className=\"ops\" onClick={operation} />\r\n                    </div>\r\n                    <div>\r\n                        <Button id=\"one\" value=\"1\" display=\"1\" className=\"num\" onClick={number} />\r\n                        <Button id=\"two\" value=\"2\" display=\"2\" className=\"num\" onClick={number} />\r\n                        <Button id=\"three\" value=\"3\" display=\"3\" className=\"num\" onClick={number} />\r\n                        <Button id=\"subtract\" value=\"-\" display=\"−\" className=\"ops\" onClick={operation} />\r\n                    </div>\r\n                    <div>\r\n                        <Button id=\"zero\" value=\"0\" display=\"0\" className=\"num\" onClick={number} />\r\n                        <Button id=\"decimal\" value=\".\" display=\".\" className=\"point\" onClick={point} />\r\n                        <Button id=\"equals\" value=\"=\" display=\"=\" className=\"equals\" onClick={equals} />\r\n                        <Button id=\"add\" value=\"+\" display=\"+\" className=\"ops\" onClick={operation} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {calculations.length > 0 && <CalculationList list={calculations}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Calculator"]},"metadata":{},"sourceType":"module"}